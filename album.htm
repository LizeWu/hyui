<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HyUI kit</title>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="css/prism_dark.css">
    <link rel="alternate" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.1.1/css/hover-min.css">
    <link rel="stylesheet" href="css/guide.css">
</head>

<body>
    <header class="header"></header>
    <!-- load header.htm-->
    <div class="main">
        <div class="left_nav"></div>
        <!-- load menu.htm-->
        <div class="content">
            <div class="breadcrumb">
                <a onclick="location.href='index.htm'">首頁</a><span>網頁元素</span><span>album + lightbox</span>
            </div>
            <h1>Album + Lightbox</h1>
            <div class="path">檔案名稱：<span>sass/_lightbox.scss</span></div>
            <!-- demo Start -->
            <div class="demo">
                <div class="gallery">
                    <div class="row">
                        <div class="thumbnail">
                            <a href="#">
                                <div class="imgOuter">
                                    <img src="https://assets.imgix.net/examples/kingfisher.jpg?w=1200&h=720&fit=crop&auto=format%2Cenhance&usm=20" alt="圖片標題1">
                                </div>
                                <div class="caption">
                                    <h3>圖片標題1</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...</p>
                                </div>
                            </a>
                        </div>
                        <div class="thumbnail">
                            <a href="#">
                                <div class="imgOuter">
                                    <img src="https://assets.imgix.net/examples/lorie.png?w=1200&h=720&fit=crop&auto=format%2Cenhance&usm=20" alt="圖片標題2">
                                </div>
                                <div class="caption">
                                    <h3>圖片標題2</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...</p>
                                </div>
                            </a>
                        </div>
                        <div class="thumbnail">
                            <a href="#">
                                <div class="imgOuter">
                                    <img src="https://assets.imgix.net/unsplash/transport.jpg?w=720&h=960&fit=crop&auto=format%2Cenhance&usm=20" alt="圖片標題3">
                                </div>
                                <div class="caption">
                                    <h3>圖片標題3</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...</p>
                                </div>
                            </a>
                        </div>
                        <div class="thumbnail">
                            <a href="#">
                                <div class="imgOuter">
                                    <img src="https://assets.imgix.net/unsplash/motorbike.jpg?w=1200&h=720&fit=crop&auto=format%2Cenhance&usm=20" alt="圖片標題4">
                                </div>
                                <div class="caption">
                                    <h3>圖片標題4</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...</p>
                                </div>
                            </a>
                        </div>
                        <div class="thumbnail">
                            <a href="#">
                                <div class="imgOuter">
                                    <img src="https://assets.imgix.net/unsplash/coyote.jpg?w=1200&h=720&fit=crop&auto=format%2Cenhance&usm=20" alt="圖片標題5">
                                </div>
                                <div class="caption">
                                    <h3>圖片標題5</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...</p>
                                </div>
                            </a>
                        </div>
                        <div class="thumbnail">
                            <a href="#">
                                <div class="imgOuter">
                                    <img src="https://assets.imgix.net/examples/blueberries.jpg?w=1200&h=720&fit=crop&auto=format%2Cenhance&usm=20" alt="圖片標題6">
                                </div>
                                <div class="caption">
                                    <h3>圖片標題6</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- demo End -->
            <div class="sourcecode">
                <pre class="language-html">
                    <code class="language-html">
&lt;div class=&quot;gallery&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        &lt;div class=&quot;thumbnail&quot;&gt;
            &lt;a href=&quot;#&quot;&gt;
                &lt;div class=&quot;imgOuter&quot;&gt;
                    &lt;img src=&quot;...&quot; alt=&quot;圖片標題1&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;caption&quot;&gt;
                    &lt;h3&gt;圖片標題1&lt;/h3&gt;
                    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...&lt;/p&gt;
                &lt;/div&gt;
            &lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;thumbnail&quot;&gt;
            &lt;a href=&quot;#&quot;&gt;
                &lt;div class=&quot;imgOuter&quot;&gt;
                    &lt;img src=&quot;...&quot; alt=&quot;圖片標題1&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;caption&quot;&gt;
                    &lt;h3&gt;圖片標題1&lt;/h3&gt;
                    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...&lt;/p&gt;
                &lt;/div&gt;
            &lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;thumbnail&quot;&gt;
            &lt;a href=&quot;#&quot;&gt;
                &lt;div class=&quot;imgOuter&quot;&gt;
                    &lt;img src=&quot;...&quot; alt=&quot;圖片標題1&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;caption&quot;&gt;
                    &lt;h3&gt;圖片標題1&lt;/h3&gt;
                    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus...&lt;/p&gt;
                &lt;/div&gt;
            &lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
            </div>
            <h3>JQUERY設定</h3>
            <div class="sourcecode">
                <pre class="language-javascript">
                    <code class="language-javascript">
/*-----------------------------------*/
//////////////相簿縮圖+燈箱//////////////
/*-----------------------------------*/
$(function() {
    //縮圖，same as thumbnail模組
    $(window).on(&#39;resize load&#39;, function(e) {
        $(&#39;.imgOuter&#39;).each(function(index, el) {
            var _imgContainer = $(this),
                cWidth = _imgContainer.width(),
                cHeight = _imgContainer.height(),
                ratioC = cWidth / cHeight,
                _img = _imgContainer.find(&#39;img&#39;);

            var iWidth = $(this).find(&#39;img&#39;).width(),
                iHeight = $(this).find(&#39;img&#39;).height(),
                ratioImg = iWidth / iHeight,
                scaleRatio;
            if (ratioC &gt; ratioImg) {
                scaleRatio = cWidth / iWidth;
                _img.width(cWidth).height(iHeight * scaleRatio).css(&#39;top&#39;, -.5 * (iHeight * scaleRatio - cHeight));
            } else {
                scaleRatio = cHeight / iHeight;
                _img.height(cHeight).width(iWidth * scaleRatio).css(&#39;left&#39;, -.5 * (iWidth * scaleRatio - cWidth));
            }
            $(this).find(&#39;img&#39;).removeClass(&#39;img-responsive&#39;);
        });
    });
    //相簿JQ設定
    $(&#39;.gallery&#39;).append(&#39;&lt;div class=&quot;lightbox&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;light_close&quot;&gt;關閉&lt;/a&gt;&lt;a href=&quot;#&quot; class=&quot;light_prev&quot;&gt;上一張&lt;/a&gt;&lt;a href=&quot;#&quot; class=&quot;light_next&quot;&gt;下一張&lt;/a&gt;&lt;img src=&quot;&quot; alt=&quot;&quot;&gt;&lt;div class=&quot;galler_overlay&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;)
    $(&#39;.gallery .lightbox&#39;).hide(); // lightbox先隱藏
    $(&#39;.light_close&#39;).click(function(event) {
        $(&#39;.gallery .lightbox&#39;).hide(); // 如果點到close，lightbox隱藏
        $(&#39;body&#39;).removeClass(&#39;noscroll&#39;);
        $(&#39;.gallery .lightbox .caption&#39;).html(&#39;&#39;);
    });
    $(&#39;.gallery .lightbox .galler_overlay&#39;).click(function(event) {
        $(&#39;.gallery .lightbox&#39;).hide(); // 如果點到overlay，lightbox隱藏
        $(&#39;body&#39;).removeClass(&#39;noscroll&#39;);
        $(&#39;.gallery .lightbox .caption&#39;).html(&#39;&#39;);
    });
    var PIC_SRC = $(&#39;.gallery .lightbox img&#39;).attr(&#39;src&#39;);
    // var THUMB_PIC = $(this).attr(&#39;src&#39;);
    var PIC_INDEX = 0;
    $(&#39;.gallery a&#39;).click(function(e) {
        e.preventDefault();
    });
    $(&#39;.gallery .thumbnail img&#39;).each(function(index) {
        $(this).click(function(e) {
            var THUMB_H3 = $(this).attr(&#39;alt&#39;);
            $(&#39;body&#39;).addClass(&#39;noscroll&#39;);
            $(&#39;.gallery .lightbox&#39;).append(&#39;&lt;div class=&quot;caption&quot;&gt;&#39; + THUMB_H3 + &#39;&lt;div&gt;&#39;);
            THUMB_PIC = $(this).attr(&#39;src&#39;);
            $(&#39;.gallery .lightbox img&#39;).attr(&#39;src&#39;, THUMB_PIC);
            $(&#39;.gallery .lightbox&#39;).fadeIn();
            $(&#39;.gallery .lightbox .galler_overlay&#39;).fadeIn();
            PIC_INDEX = index;
            e.preventDefault();
        });
    });
    //計算當頁縮圖數量
    var PIC_NUM = $(&#39;.gallery .thumbnail&#39;).length;
    // 下一張 function
    function NEXT_MOV() {
        //pic_index+1 如果小於 圖片數量
        if ((PIC_INDEX + 1) &lt; PIC_NUM) {
            //PIC_INDEX = (PIC_INDEX + 1) % PIC_NUM;//取餘數
            PIC_INDEX++; //pic_index ++
            //if(PIC_INDEX &gt;= PIC_NUM){PIC_INDEX=0;}
        } else {
            PIC_INDEX = 0 //如果等於或大於圖片數量 pic_index =0 ，跳到第一張
        }
        THUMB_PIC = $(&#39;.gallery .thumbnail img&#39;).eq(PIC_INDEX).attr(&#39;src&#39;);
        THUMB_H3 = $(&#39;.gallery .thumbnail img&#39;).eq(PIC_INDEX).attr(&#39;alt&#39;);
        $(&#39;.gallery .lightbox .caption&#39;).html(THUMB_H3);
        $(&#39;.gallery .lightbox img&#39;).hide();
        $(&#39;.gallery .lightbox img&#39;).fadeIn();
        $(&#39;.gallery .lightbox img&#39;).attr(&#39;src&#39;, THUMB_PIC);
        //放入燈箱 img src
        e.preventDefault();
    }
    $(&#39;.gallery .light_next&#39;).click(function(e) {
        NEXT_MOV();
        e.preventDefault();
    });
    // 上一張 function
    function PREV_MOV() {
        if ((PIC_INDEX + 1) &gt; 1) { //pic_index+1  如果大於 1
            //PIC_INDEX = (PIC_INDEX + 1) % PIC_NUM;//取餘數
            PIC_INDEX--; //pic_index --
            //if(PIC_INDEX &gt;= PIC_NUM){PIC_INDEX=0;}
        } else {
            PIC_INDEX = PIC_NUM - 1; //如果等於或小於圖片數量 pic_index =圖片數量-1 ，跳到最後一張
        }
        //取縮圖 img src
        THUMB_PIC = $(&#39;.gallery .thumbnail img&#39;).eq(PIC_INDEX).attr(&#39;src&#39;);
        THUMB_H3 = $(&#39;.gallery .thumbnail img&#39;).eq(PIC_INDEX).attr(&#39;alt&#39;);
        $(&#39;.gallery .lightbox .caption&#39;).html(THUMB_H3);
        $(&#39;.gallery .lightbox img&#39;).hide();
        $(&#39;.gallery .lightbox img&#39;).fadeIn();
        $(&#39;.gallery .lightbox img&#39;).attr(&#39;src&#39;, THUMB_PIC); 
        //放入燈箱 img src
    }
    $(&#39;.gallery .light_prev&#39;).click(function(e) {
        PREV_MOV();
        e.preventDefault();
    });
    // 左右按鍵移動
    $(&#39;body&#39;).keydown(function(e) {
        if (e.keyCode == 37) {
            PREV_MOV();
        } else if (e.keyCode == 39) {
            NEXT_MOV();
        } else if (e.keyCode == 27) {
            $(&#39;.gallery .lightbox&#39;).hide();
        }
    });
});</code></pre>
            </div>
            
        </div>
    </div>
    <footer>
        Hyweb Co.,Ltd.&copy; 2017 All Rights Reserved
    </footer>
</body>

</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
<script src="js/prism_dark.js"></script>
<script src="js/demo.js"></script>
<script>
/*-----------------------------------*/
//////////////相簿縮圖+燈箱//////////////
/*-----------------------------------*/
$(function() {
    //縮圖，same as thumbnail模組
    $(window).on('resize load', function(e) {
        $('.imgOuter').each(function(index, el) {
            var _imgContainer = $(this),
                cWidth = _imgContainer.width(),
                cHeight = _imgContainer.height(),
                ratioC = cWidth / cHeight,
                _img = _imgContainer.find('img');

            var iWidth = $(this).find('img').width(),
                iHeight = $(this).find('img').height(),
                ratioImg = iWidth / iHeight,
                scaleRatio;
            if (ratioC > ratioImg) {
                scaleRatio = cWidth / iWidth;
                _img.width(cWidth).height(iHeight * scaleRatio).css('top', -.5 * (iHeight * scaleRatio - cHeight));
            } else {
                scaleRatio = cHeight / iHeight;
                _img.height(cHeight).width(iWidth * scaleRatio).css('left', -.5 * (iWidth * scaleRatio - cWidth));
            }
            $(this).find('img').removeClass('img-responsive');
        });
    });
    //相簿JQ設定
    $('.gallery').append('<div class="lightbox"><a href="#" class="light_close">關閉</a><a href="#" class="light_prev">上一張</a><a href="#" class="light_next">下一張</a><img src="" alt=""><div class="galler_overlay"></div></div>')
    $('.gallery .lightbox').hide(); // lightbox先隱藏
    $('.light_close').click(function(event) {
        $('.gallery .lightbox').hide(); // 如果點到close，lightbox隱藏
        $('body').removeClass('noscroll');
        $('.gallery .lightbox .caption').html('');
    });
    $('.gallery .lightbox .galler_overlay').click(function(event) {
        $('.gallery .lightbox').hide(); // 如果點到overlay，lightbox隱藏
        $('body').removeClass('noscroll');
        $('.gallery .lightbox .caption').html('');
    });
    var PIC_SRC = $('.gallery .lightbox img').attr('src');
    // var THUMB_PIC = $(this).attr('src');
    var PIC_INDEX = 0;
    $('.gallery a').click(function(e) {
        e.preventDefault();
    });
    $('.gallery .thumbnail img').each(function(index) {
        $(this).click(function(e) {
            var THUMB_H3 = $(this).attr('alt');
            $('body').addClass('noscroll');
            $('.gallery .lightbox').append('<div class="caption">' + THUMB_H3 + '<div>');
            THUMB_PIC = $(this).attr('src');
            $('.gallery .lightbox img').attr('src', THUMB_PIC);
            $('.gallery .lightbox').fadeIn();
            $('.gallery .lightbox .galler_overlay').fadeIn();
            PIC_INDEX = index;
            e.preventDefault();
        });
    });
    //計算當頁縮圖數量
    var PIC_NUM = $('.gallery .thumbnail').length;
    // 下一張 function
    function NEXT_MOV() {
        //pic_index+1 如果小於 圖片數量
        if ((PIC_INDEX + 1) < PIC_NUM) {
            //PIC_INDEX = (PIC_INDEX + 1) % PIC_NUM;//取餘數
            PIC_INDEX++; //pic_index ++
            //if(PIC_INDEX >= PIC_NUM){PIC_INDEX=0;}
        } else {
            PIC_INDEX = 0 //如果等於或大於圖片數量 pic_index =0 ，跳到第一張
        }
        THUMB_PIC = $('.gallery .thumbnail img').eq(PIC_INDEX).attr('src');
        THUMB_H3 = $('.gallery .thumbnail img').eq(PIC_INDEX).attr('alt');
        $('.gallery .lightbox .caption').html(THUMB_H3);
        $('.gallery .lightbox img').hide();
        $('.gallery .lightbox img').fadeIn();
        $('.gallery .lightbox img').attr('src', THUMB_PIC);
        //放入燈箱 img src
        e.preventDefault();
    }
    $('.gallery .light_next').click(function(e) {
        NEXT_MOV();
        e.preventDefault();
    });
    // 上一張 function
    function PREV_MOV() {
        if ((PIC_INDEX + 1) > 1) { //pic_index+1  如果大於 1
            //PIC_INDEX = (PIC_INDEX + 1) % PIC_NUM;//取餘數
            PIC_INDEX--; //pic_index --
            //if(PIC_INDEX >= PIC_NUM){PIC_INDEX=0;}
        } else {
            PIC_INDEX = PIC_NUM - 1; //如果等於或小於圖片數量 pic_index =圖片數量-1 ，跳到最後一張
        }
        //取縮圖 img src
        THUMB_PIC = $('.gallery .thumbnail img').eq(PIC_INDEX).attr('src');
        THUMB_H3 = $('.gallery .thumbnail img').eq(PIC_INDEX).attr('alt');
        $('.gallery .lightbox .caption').html(THUMB_H3);
        $('.gallery .lightbox img').hide();
        $('.gallery .lightbox img').fadeIn();
        $('.gallery .lightbox img').attr('src', THUMB_PIC); 
        //放入燈箱 img src
    }
    $('.gallery .light_prev').click(function(e) {
        PREV_MOV();
        e.preventDefault();
    });
    // 左右按鍵移動
    $('body').keydown(function(e) {
        if (e.keyCode == 37) {
            PREV_MOV();
        } else if (e.keyCode == 39) {
            NEXT_MOV();
        } else if (e.keyCode == 27) {
            $('.gallery .lightbox').hide();
        }
    });
});
</script>